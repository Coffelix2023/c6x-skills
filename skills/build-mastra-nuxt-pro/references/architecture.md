# Architecture Notes (Pro)

## Minimal Runtime Shape

1. Nuxt UI (`app/app.vue`) sends messages to `/api/chat`.
2. Nuxt server route (`server/api/chat.ts`) bridges UI and Mastra.
3. Mastra resolves `chat-agent` and streams model output.
4. Optional memory recall hydrates prior messages.

## Recommended IDs

- `agentId`: `chat-agent`
- `threadId`: per user/session stable value
- `resourceId`: app-level namespace, for example `nuxt-chat`

## Provider and model

- Keep provider/model configurable with env vars.
- Avoid hardcoding provider secrets.

## Change Boundaries

- Keep Nuxt UI concerns in `app/`.
- Keep API bridge concerns in `server/api/`.
- Keep Mastra agent concerns under the Mastra directory generated by init.

## Non-Goals (unless user asks)

- multi-agent orchestration
- custom tools
- vector/RAG integration
- auth layer and tenancy model
